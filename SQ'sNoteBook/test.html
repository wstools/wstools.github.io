<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>测试</title>
    <script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>
<body>
    <input type="password" name="" id="">

    <input type="button" value="">

    <div id="output"></div>


<script>

// 4255d986ae7145348869e423c18ecd04 EDpPhBL/vNLf+cWzRj15mwyceMPAdqaS	1556086411.7659452

let uri = "ws://120.79.75.160:25632";
let websocket = new WebSocket(uri);
websocket.onopen = function(event) {
    console.log("onopen");
    console.log(event);
    websocket.send("4255d986ae7145348869e423c18ecd04 EDpPhBL/vNLf+cWzRj15mwyceMPAdqaS");
};
websocket.onclose = function(event) {
    console.log("onclose");
    console.log(event);

};
websocket.onmessage = function(event) {
    console.log("onmessage");
    console.log(event);
};
websocket.onerror = function(event) {
    console.log("onerror");
    console.log(event);
};


// let request = new XMLHttpRequest();
// request.open("GET", "http://game.wsmud.com/Game/GetServer", true);
// request.onload = function() {
//     complete(request.responseText);
// };
// request.send();
// console.log(request);
$.ajax({
  url: "http://game.wsmud.com/Game/GetServer",
  dataType: "text",
//   jsonp: "callback",
//   context: document.body,
  success: function(data) {
    console.log(data);
  }
});

// [
//     {"ID":1,"Name":"一区","Port":25631,"IsTest":false,"IP":"120.79.75.160","IsRcd":false},
//     {"ID":2,"Name":"二区","Port":25631,"IsTest":false,"IP":"47.106.8.121","IsRcd":true},
//     {"ID":3,"Name":"三区","Port":25632,"IsTest":false,"IP":"47.106.8.121","IsRcd":true},
//     {"ID":4,"Name":"四区","Port":25632,"IsTest":false,"IP":"120.79.75.160","IsRcd":false},
//     {"ID":99,"Name":"测试","Port":25631,"IsTest":true,"IP":"120.78.75.229","IsRcd":false},
//     {"ID":100,"Name":"测试2","Port":25632,"IsTest":true,"IP":"120.78.75.229","IsRcd":false}
// ]

// function testWebSocket() {
//     websocket = new WebSocket(wsUri);
//     websocket.onopen = function(evt) {
//         onOpen(evt)
//     };
//     websocket.onclose = function(evt) {
//         onClose(evt)
//     };
//     websocket.onmessage = function(evt) {
//         onMessage(evt)
//     };
//     websocket.onerror = function(evt) {
//         onError(evt)
//     };
// }

// function onOpen(evt) {
//     writeToScreen("CONNECTED");
//     doSend("WebSocket rocks");
// }

// function onClose(evt) {
//     writeToScreen("DISCONNECTED");
// }

// function onMessage(evt) {
//     writeToScreen('RESPONSE: '+ evt.data+'');
//     websocket.close();
// }

// function onError(evt) {
//     writeToScreen('ERROR: '+ evt.data);
// }

// function doSend(message) {
//     writeToScreen("SENT: " + message);
//     websocket.send(message);
// }

// function writeToScreen(message) {
//     var pre = document.createElement("p");
//     pre.style.wordWrap = "break-word";
//     pre.innerHTML = message;
//     output.appendChild(pre);
// }

// window.addEventListener("load", init, false);


</script>

</body>
</html>


